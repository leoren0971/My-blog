{"version":3,"sources":["pages/Index/components/ListItem.js","utils/common.js","pages/Index/index.js","App.js","index.js"],"names":["ListItem","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","finshedHandle","bind","assertThisInitialized","deleteHandle","react_default","a","createElement","es_list","Item","actions","onClick","style","color","skeleton","avatar","title","loading","active","Meta","item","isFinshed","icon","backgroundColor","textDecoration","content","index","Component","setStorage","key","value","obj","type","data","localStorage","setItem","JSON","stringify","getStorage","objStr","getItem","parse","Header","Layout","Content","Footer","Index","state","list","finishedList","initLoading","loadMore","onChange","addTodoHandle","common","setState","_this2","layout","className","menu","theme","mode","defaultSelectedKeys","lineHeight","padding","row","col","gutter","span","input","placeholder","allowClear","es_button","block","marginTop","itemLayout","dataSource","renderItem","components_ListItem","textAlign","e","console","log","target","unshift","message","warning","finItem","splice","isfinished","App","pages_Index","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.03483dbf.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport {\n  List,\n  Avatar,\n  Skeleton\n} from 'antd';\n\nclass ListItem extends Component {\n  constructor (props) {\n    super(props);\n\n    this.finshedHandle = this.finshedHandle.bind(this);\n    this.deleteHandle = this.deleteHandle.bind(this);\n  }\n\n  render () {\n    return (\n      <List.Item \n        actions={[\n        <a onClick={this.finshedHandle}>Finshed</a>,\n        <a onClick={this.deleteHandle} style={{color: 'red'}}>Delete</a>]}\n      >\n        <Skeleton avatar title={false} loading={false} active>\n          <List.Item.Meta\n            avatar={\n              (\n                this.props.item.isFinshed ? (\n                  <Avatar \n                    icon=\"check-circle\"\n                    style={{color: '#cccccc', backgroundColor: '#ffffff'}}\n                  />\n                ) : (\n                  <Avatar \n                    icon=\"clock-circle\"\n                    style={{color: '#ffffff', backgroundColor: '#87d068'}}\n                  />\n                )\n              )\n            }\n            title={<a style={this.props.item.isFinshed ? {textDecoration:'line-through'} : {}}>{this.props.item.content}</a>}\n          />\n        </Skeleton>\n      </List.Item>\n    )\n  }\n\n  finshedHandle () {\n    if (this.props.item.isFinshed) return;\n    this.props.finshedHandle(this.props.item, this.props.index);\n  }\n\n  deleteHandle () {\n    this.props.deleteHandle(this.props.item.isFinshed, this.props.index);\n  }\n}\n\nexport default ListItem;","export const setStorage = function (key, value) {\n  let type = typeof value\n  const obj = {\n    type,\n    data: value\n  }\n  localStorage.setItem(key, JSON.stringify(obj))\n}\n\nexport const getStorage = function (key) {\n  let objStr = localStorage.getItem(key)\n  if (!objStr) return null\n  let obj = JSON.parse(objStr)\n  return obj.data\n}\n\nexport const removeStorage = function (key) {\n  localStorage.removeItem(key)\n}","import React, { Component } from 'react';\nimport {\n  Layout,\n  Menu,\n  Row,\n  Col,\n  Input,\n  Button,\n  List,\n  message\n} from 'antd';\nimport ListItem from './components/ListItem';\nimport './style.scss';\nimport * as common from './../../utils/common';\n\nconst { Header, Content, Footer } = Layout;\n\nclass Index extends Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      value: '',\n      list: [],\n      finishedList: [],\n      initLoading: false,\n      loadMore: false,\n\n    }\n\n    this.onChange = this.onChange.bind(this);\n    this.addTodoHandle = this.addTodoHandle.bind(this);\n    this.finshedHandle = this.finshedHandle.bind(this);\n    this.deleteHandle = this.deleteHandle.bind(this);\n  }\n\n  componentDidMount () {\n    let list = common.getStorage('wait-list');\n    let finishedList = common.getStorage('fin-list');\n    if (!list) list = [];\n    if (!finishedList) finishedList = [];\n    this.setState({ list, finishedList });\n  }\n\n  render() {\n    return (\n      <Layout className=\"layout\">\n        <Header>\n          <div className=\"logo\" />\n          <Menu\n            theme=\"dark\"\n            mode=\"horizontal\"\n            defaultSelectedKeys={['1']}\n            style={{ lineHeight: '64px' }}\n          >\n            {/* <Menu.Item key=\"1\">nav 1</Menu.Item> */}\n          </Menu>\n        </Header>\n        <Content style={{ padding: '0 50px' }}>\n          <Row>\n            <Col><h2>添加任务清单</h2></Col>\n          </Row>\n          <Row gutter={16}>\n            <Col span={8}>\n              <Input value={this.state.value} onChange={this.onChange} placeholder=\"请输入要做的事\" allowClear />\n              <Button onClick={this.addTodoHandle} type=\"primary\" block style={{ marginTop: '15px'}}>添加</Button>\n            </Col>\n            <Col span={16}>\n              <List\n                className=\"demo-loadmore-list\"\n                itemLayout=\"horizontal\"\n                dataSource={this.state.list}\n                renderItem={(item, index) => (\n                  <ListItem\n                    item={item}\n                    index={index}\n                    finshedHandle={this.finshedHandle}\n                    deleteHandle={this.deleteHandle}\n                  />\n                )}\n              />\n              <List\n                className=\"demo-loadmore-list\"\n                itemLayout=\"horizontal\"\n                dataSource={this.state.finishedList}\n                renderItem={(item, index) => (\n                  <ListItem\n                    item={item}\n                    index={index}\n                    finshedHandle={this.finshedHandle}\n                    deleteHandle={this.deleteHandle}\n                  />\n                )}\n              />\n            </Col>\n          </Row>\n        </Content>\n        <Footer style={{ textAlign: 'center' }}>ToDoList Plus</Footer>\n      </Layout>\n    )\n  }\n\n  onChange (e) {\n    console.log(e.target);\n    const { value } = e.target;\n    this.setState({ value });\n  }\n\n  addTodoHandle (e) {\n    const content = this.state.value;\n    if (!content) {\n      message.warning('输入不能为空！');\n      return;\n    }\n    const list = this.state.list;\n    list.unshift({ content });\n    this.setState({\n      list,\n      value: ''\n    });\n    common.setStorage('wait-list', list);\n  }\n\n  finshedHandle (item, index) {\n    console.log(item)\n    const list = this.state.list;\n    const finishedList = this.state.finishedList;\n    const finItem = list[index];\n    finItem.isFinshed = true;\n    list.splice(index, 1);\n    finishedList.unshift(finItem);\n    this.setState({ list, finishedList });\n    common.setStorage('wait-list', list);\n    common.setStorage('fin-list', finishedList);\n  }\n\n  deleteHandle (isfinished, index) {\n    console.log(index)\n    const list = this.state.list;\n    const finishedList = this.state.finishedList;\n    if (!isfinished) {\n      list.splice(index, 1);\n      common.setStorage('wait-list', list);\n    } else {\n      finishedList.splice(index, 1);\n      common.setStorage('fin-list', finishedList);\n    }\n    this.setState({\n      list,\n      finishedList\n    });\n  }\n}\nexport default Index;","import React from 'react';\nimport './App.css';\n\nimport Index from './pages/Index';\n\nfunction App() {\n  return (\n    <Index></Index>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}